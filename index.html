<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Skeletor Scaffolding | Architecture & DevOps for Progressive Decoupling</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/myplanet.css">
		<link rel="stylesheet" href="css/presentation.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<link rel="icon" href="lib/myplanet/logo/radiant-orange/mark-knockout.svg"/>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal pattern--orange-river">
			<div class="slides">
				<section class="intro" id="intro">
					<div class="logo-wrapper">
						<div class="logo"><span class="visually-hidden">Myplanet</span></div>
					</div>
				</section>
				<section class="title" id="title">
					<div class="grid-wrapper">
						<div class="header">
							<!-- Remove logo--full class to only show brand mark -->
							<div class="logo logo--full"><span class="visually-hidden">Myplanet</span></div>
						</div>
						<div class="content">
							<h1>Skeletor Scaffolding</h1>
							<div class="description">
								Architecture & DevOps for Progressive Decoupling
							</div>
						</div>
						<div class="credit">
							<hr/>
							<div class="label">Presented By</div>
							<div class="name">Erin Marchak</div>
							<div class="name">Yuriy Savenko</div>
						</div>
					</div>
				</section>


				<section class="subsection color--midnight" id="topics">
					<div class="grid-wrapper">
						<div class="logo"></div>
						<h1>What we'll talk about</h1>
						<ol class="description">
							<li>Building a Progressively Decoupled site with Skeletor</li>
							<li>Continuous Integration for Progressive Decoupling</li>
							<li>Unit testing React components in Drupal</li>
							<li>Test for data consistency with JSON Schema</li>
						</ol>

					</div>
				</section>

				<!-- Team page can accommodate one or two profiles. -->
				<section class="team" id="about">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">About Us</div>
						</div>
						<div class="content">
							<div class="profile">
								<div class="basics">
									<img src="lib/myplanet/portait-yoshi.png">
									<div class="name">Yuriy Savenko</div>
									<div class="role">Solutions Architect, Javascript Practices</div>
								</div>
								<div class="details">
									<h2>Profile</h2>
									<p>Yuriy is a Front-end Developer and Solutions Architect with Myplanet, specializing in Front-end and Drupal development. Originally joining the team remotely from Ukraine as a Creative Lead, Yuriy made the switch to full-time coding—and to Canada—in 2013. He holds his Acquia certifications for Development and Front-end Development.</p>
								</div>
							</div>
							<div class="profile">
								<div class="basics">
									<img src="lib/myplanet/portait-erin.png">
									<div class="name">Erin Marchak</div>
									<div class="role">Associate Director, Drupal Practices</div>
								</div>
								<div class="details">
									<h2>Profile</h2>
									<p>Erin has 7 years of Drupal experience and excels at Accessible front-end development and custom Drupal modules. She has deployed several Drupal 8 projects, and is passionate about customer service and creating emotional connections with people using technology. She has her ‘Grand Master’ Drupal certification.</p>
								</div>
							</div>
						</div>
					</div>
				</section>

				<!-- Skeletor. -->
				<section class="subsection color--ice" id="subsection--skeletor">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">1. Skeletor</div>
						</div>
						<h1>Building a Progressively Decoupled site with Skeletor</h1>
						<div class="description"></div>
					</div>
				</section>

				<!-- Continuous Integration. -->
				<section class="subsection color--midnight" id="subsection--continuous-integration">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">2. Continuous Integration</div>
						</div>
						<h1>Continuous Integration for Progressive Decoupling</h1>
						<div class="description"></div>
					</div>
				</section>


				<!-- Unit Testing: BEGIN -->

				<!-- Unit Testing: Slide #1 -->
				<section class="subsection color--dark" id="subsection--unit-testing-s1">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">3. Unit Testing</div>
						</div>
						<h1>Unit testing React components in Drupal</h1>
						<div class="description"></div>
					</div>
				</section>
				<!-- Unit Testing: Slide #2 -->
				<section class="subsection color--dark" id="subsection--unit-testing-s2">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">3. Unit Testing</div>
						</div>
						<div>
						<h1>Moving parts of React + Redux app</h1>
						<br/><br/>
						<ul class="list-extra-space">
							<li>
								<h5 class="margin-bottom-0">Components</h5>
								<p class="margin-top-0 opacity-70">We want to make sure that component behaves as expected when new features have been added to it or model has been changed.</p>
							</li>
							<li>
								<h5 class="margin-bottom-0">Actions</h5>
								<p class="margin-top-0 opacity-70">We want to make sure that when the action creator has been called, the right action (or sequence of actions) have been emitted.</p>
							</li>
							<li>
								<h5 class="margin-bottom-0">Reducers</h5>
								<p class="margin-top-0 opacity-70">We want to make sure that Redux state has been updated accordingly for the particular action.</p>
							</li>
						</ul>
						</div>
					</div>
				</section>
				<!-- Unit Testing: Slide #3 -->
				<section class="subsection color--dark" id="subsection--unit-testing-s3">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">3. Unit Testing</div>
						</div>
						<div>
							<h1>Jest</h1>
							<br/><br/>
							<blockquote class="stick-left">“Jest is used by Facebook to test all JavaScript code including React applications. One of Jest's philosophies is to provide an integrated "zero-configuration" experience. We observed that when engineers are provided with ready-to-use tools, they end up writing more tests, which in turn results in more stable and healthy code bases.”</blockquote>
							<br/>
							<ul class="list-extra-space">
								<li>Simple configuration.</li>
								<li>Snapshot testing.</li>
								<li>Jest is fast, by parallelizing test runs across workers.</li>
								<li>It has built-in coverage reports.</li>
							</ul>
						</div>
					</div>
				</section>
				<!-- Unit Testing: Slide #4 -->
				<section class="subsection color--dark" id="subsection--unit-testing-s4">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">3. Unit Testing</div>
						</div>
						<div>
							<h1>Enzyme</h1>
							<br/><br/>
							<blockquote class="stick-left">Enzyme is a JavaScript Testing utility for React that makes it easier to assert, manipulate, and traverse your React Components' output.</blockquote>
							<br/>
							<ul class="list-extra-space">
								<li>jQuery like API to work with rendered components.</li>
								<li>Shallow rendering (which is useful to test just components you want to test).</li>
							</ul>
						</div>
					</div>
				</section>
				<!-- Unit Testing: Slide #5 -->
				<section class="subsection color--dark" id="subsection--unit-testing-s5">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">3. Unit Testing</div>
						</div>
						<div>
							<div class="flex-row">
								<figure><h5 style="margin:0;">Component</h5></figure>
								<figure><h5 style="margin:0;">Test file</h5></figure>
							</div>
							<div class="flex-row">
								<figure class="code">
									<!--
                                        Code highlighting is performed by highlight.js

                                        Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
                                        If showing an HTML example, add the data-escape attribute to the code element.
                                    -->
									<pre><code class="lang-javascript">
										import React, { Component } from 'react';
										import PropTypes from 'prop-types';

										class AttendeesCard extends Component {
											render() {
												let {id, firstName, lastName, dorgId, bio, presenter}
												= this.props

												return (
													&lt;div
														className=`attendee ${presenter ? '_presenter' : ''}`&gt;
														&lt;h3&gt;{`${firstName} ${lastName}`}&lt;/h3&gt;
														&lt;p className="-bio">{bio}&lt;/p&gt;
													&lt;/div&gt;
												)
											}
										}

										AttendeesCard.propTypes = {
											id: PropTypes.number,
											name: PropTypes.string,
											dorgId: PropTypes.string,
											bio: PropTypes.string,
											presenter: PropTypes.bool
										};

										export default AttendeesCard;
									</code></pre>
									<!-- figcaption element is optional, can be placed above or below code  -->
									<figcaption class="path">components/AttendeeCard/AttendeeCard.js</figcaption>
								</figure>
								<figure class="code">
									<!--
										Code highlighting is performed by highlight.js

										Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
										If showing an HTML example, add the data-escape attribute to the code element.
									-->
									<pre><code class="lang-javascript">
										import React from 'react';
										import {shallow, render, mount} from 'enzyme';
										import AttendeeCard from './AttendeeCard'

										test('Attendee Card renders', () => {
											let data = {
												id: 1,
												firstName: 'John',
												lastName: 'Smith',
												bio: 'bio...'
											}

											const wrapper = render(
												&lt;AttendeeCard
													{...data}
												/&gt;
											);

											expect(wrapper.find('h3').text())
												.toEqual('John Smith');
											expect(wrapper.find('.-bio').text())
												.toEqual('bio...');
										});
									</code></pre>
									<!-- figcaption element is optional, can be placed above or below code  -->
									<figcaption class="path">components/AttendeeCard/AttendeeCard.test.js</figcaption>
								</figure>
							</div>
						</div>
					</div>
				</section>
				<!-- Unit Testing: Slide #6 -->
				<section class="subsection color--dark" id="subsection--unit-testing-s6">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">3. Unit Testing</div>
						</div>
						<div>
							<div class="flex-row">
								<figure><h5 style="margin:0;">Actions</h5></figure>
								<figure><h5 style="margin:0;">Test file</h5></figure>
							</div>
							<div class="flex-row">
								<figure class="code">
									<!--
                                        Code highlighting is performed by highlight.js

                                        Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
                                        If showing an HTML example, add the data-escape attribute to the code element.
                                    -->
									<pre><code class="lang-javascript">
										export function getData() {
										  return function (dispatch, getState) {
											let endpointId = 'attendees'
											let endpoint = apiEndpoints[endpointId]
											dispatch(getDataPending())

											return axios({
											  url: endpoint.url,
											  method: endpoint.method,
											  timeout: endpoint.timeout
											})
											.then(res => {
											  var validate = ajv.compile(attendeesSchema)
											  var valid = validate(res.data)

											  if (!valid) {
												dispatch(getDataFail('Error fetching the data',
													validate.errors))
											  }
											  else {
												dispatch(getDataSuccess(res.data.attendees))
											  }
											})
											.catch(err => {
											  getDataFail('Error fetching the data')
											});
										  }
										}
									</code></pre>
									<!-- figcaption element is optional, can be placed above or below code  -->
									<figcaption class="path">actions/attendeeActions.js</figcaption>
								</figure>
								<figure class="code">
									<!--
										Code highlighting is performed by highlight.js

										Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
										If showing an HTML example, add the data-escape attribute to the code element.
									-->
									<pre><code class="lang-javascript">
										describe('Attendees actions', () => {
										  it('creates GET_DATA_SUCCESS', () => {
											let endpointId = 'attendees'
											let endpoint = apiEndpoints[endpointId]
											let mockedObject = {
											  "id": 1001,
											  "title": "Mr.",
											  ...
											}

											var mock = new MockAdapter(axios);
											const data = {attendees: [mockedObject]};

											mock.onGet(config.apiURL + '/attendees')
												.reply(200, data);

											const expectedActions = [
											  { type: 'GET_DATA_PENDING' },
											  { type: 'GET_DATA_SUCCESS', data: [mockedObject]}
											]
											const store = mockStore({})

											return store.dispatch(actions.getData()).then(() => {
											  expect(store.getActions()).toEqual(expectedActions)
											})
										  })
										});
									</code></pre>
									<!-- figcaption element is optional, can be placed above or below code  -->
									<figcaption class="path">actions/test/attendeeActions.test.js</figcaption>
								</figure>
							</div>
						</div>
					</div>
				</section>
				<!-- Unit Testing: Slide #7 -->
				<section class="subsection color--dark" id="subsection--unit-testing-s7">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">3. Unit Testing</div>
						</div>
						<div>
							<div class="flex-row">
								<figure><h5 style="margin:0;">Reducer</h5></figure>
								<figure><h5 style="margin:0;">Test file</h5></figure>
							</div>
							<div class="flex-row">
								<figure class="code">
									<!--
										Code highlighting is performed by highlight.js

										Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
										If showing an HTML example, add the data-escape attribute to the code element.
									-->
									<pre><code class="lang-javascript">
										const default = {
											data: null,
											isFetching: false,
											isLoaded: false,
											error: null
										}

										export default function attendee(state = default, action) {
											switch(action.type) {
												case 'GET_DATA_SUCCESS' :
													return {
														...state,
														data: action.data,
														isLoaded: true,
														isFetching: false
													}
												case 'GET_DATA_PENDING' :
													return {
														...state,
														isFetching: true
													}
												...
												default:
													return state;
											}
										}
									</code></pre>
									<figcaption class="path">reducers/attendees.js</figcaption>
								</figure>
								<figure class="code">
									<!--
										Code highlighting is performed by highlight.js

										Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
										If showing an HTML example, add the data-escape attribute to the code element.
									-->
									<pre><code class="lang-javascript">
										import attendees from '../attendees'

										test('Attendees Reduser test', () => {
											let initState = attendees(undefined, {type: null});

											let dataSuccess = {
												type: 'GET_DATA_SUCCESS',
												data: { test: "test" }
											};

											let attendeesSuccessUpdate = {
												isLoaded: true,
												isFetching: false
											};

											expect(attendees(initState, dataSuccess))
												.toEqual({
													...initialState,
													...attendeesSuccessUpdate,
													data: actionDataSuccess.data
												});
										});

									</code></pre>
									<figcaption class="path">reducers/tests/attendees.test.js</figcaption>
								</figure>
							</div>
						</div>
					</div>
				</section>

				<!-- Unit Testing: Slide #8 -->
				<section>
					<section class="subsection color--dark" id="subsection--unit-testing-s8">
						<div class="grid-wrapper">
							<div class="header">
								<div class="logo"></div>
								<div class="section">3. Unit Testing</div>
							</div>
							<div>
								<h5>Test results: Success</h5>
								<figure class="code">
									<!--
										Code highlighting is performed by highlight.js

										Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
										If showing an HTML example, add the data-escape attribute to the code element.
									-->
									<pre><code class="lang-shell" style="padding: 20px;">
										$ npm run test

										> react-skeletor@1.0.0 test ~/DrupalCon
										> NODE_ENV=testing jest

										 PASS  src/components/AttendeeCard/AttendeeCard.test.js
										 PASS  src/reducers/reducers/tests/attendees.test.js
										 PASS  src/actions/tests/attendeeActions.test.js

										Test Suites: 3 passed, 3 total
										Tests:       3 passed, 3 total
										Snapshots:   0 total
										Time:        1.903s
										Ran all test suites.
									</code></pre>
								</figure>
							</div>
						</div>
					</section>
					<section class="subsection color--dark" id="subsection--unit-testing-s81">
						<div class="grid-wrapper">
							<div class="header">
								<div class="logo"></div>
								<div class="section">3. Unit Testing</div>
							</div>
							<div>
								<h5>Test results: Failed</h5>
									<figure class="code" style="padding: 20px;">
										<!--
                                            Code highlighting is performed by highlight.js

                                            Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
                                            If showing an HTML example, add the data-escape attribute to the code element.
                                        -->
										<pre><code class="lang-shell" style="padding: 20px;">
										$ npm run test

										> react-skeletor@1.0.0 test ~/DrupalCon
										> NODE_ENV=testing jest

										 FAIL  src/components/AttendeeCard/AttendeeCard.test.js
										  ● Attendee Card renders name

											expect(received).toEqual(expected)

											Expected value to equal:
											  "John Smith"
											Received:
											  "John Smith "

											...

										 PASS  src/reducers/reducers/tests/attendees.test.js
										 PASS  src/actions/tests/attendeeActions.test.js

										Test Suites: 1 failed, 2 passed, 3 total
										Tests:       1 failed, 2 passed, 3 total
										...
										Ran all test suites.
										</code></pre>
									</figure>
							</div>
						</div>
					</section>
					<section class="subsection color--dark" id="subsection--unit-testing-s82">
						<div class="grid-wrapper">
							<div class="header">
								<div class="logo"></div>
								<div class="section">3. Unit Testing</div>
							</div>
							<div>
								<h5>Test results: Coverage report</h5>
								<figure class="code" style="padding: 20px;">
									<!--
                                        Code highlighting is performed by highlight.js

                                        Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
                                        If showing an HTML example, add the data-escape attribute to the code element.
                                    -->
									<pre><code class="lang-shell" style="padding: 20px;">
$ npm run coverage

...

Test Suites: 3 passed, 3 total
Tests:       3 passed, 3 total
Snapshots:   0 total
Time:        1.725s
Ran all test suites.
-----------------------------|----------|----------|----------|----------|----------------|
File                         |  % Stmts | % Branch |  % Funcs |  % Lines |Uncovered Lines |
-----------------------------|----------|----------|----------|----------|----------------|
All files                    |    88.46 |    88.89 |    77.78 |    88.46 |                |
 src/actions                 |    81.25 |       50 |    71.43 |    81.25 |                |
  actionCreators.js          |    81.25 |       50 |    71.43 |    81.25 |       32,39,58 |
 src/components/AttendeeCard |      100 |      100 |      100 |      100 |                |
  AttendeeCard.js            |      100 |      100 |      100 |      100 |                |
 src/constants               |      100 |      100 |      100 |      100 |                |
  endpoints.js               |      100 |      100 |      100 |      100 |                |
 src/reducers                |      100 |      100 |      100 |      100 |                |
  attendee.js                |      100 |      100 |      100 |      100 |                |
-----------------------------|----------|----------|----------|----------|----------------|

										</code></pre>
								</figure>
							</div>
						</div>
					</section>
				</section>
				<!-- Unit Testing: Slide #9 -->
				<section class="subsection color--dark" id="subsection--unit-testing-s9">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">4. Unit Testing</div>
						</div>
						<div>
							<h1>Summary</h1>
							<br/><br/>
							<ul class="list-extra-space">
								<li>We have seen how main moving parts of React + Redux app can be tested.
									<ul class="list-extra-space" style="padding-top: 15px;">
										<li>Components</li>
										<li>Actions</li>
										<li>Reducers</li>
									</ul>
								</li>
								<li>Covertage report.</li>
							</ul>
						</div>
					</div>
				</section>

				<!-- JSON Schema: BEGIN -->

				<!-- JSON Schema: Slide 1 -->
				<section class="subsection color--radiant" id="subsection--json--s1">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">4. JSON Schema</div>
						</div>
						<h1>Test for data consistency with JSON Schema</h1>
						<div class="description"></div>
					</div>
				</section>

				<!-- JSON Schema: Slide 2 -->
				<section>
					<section class="subsection color--radiant" id="subsection--json--s2">
						<div class="grid-wrapper">
							<div class="header">
								<div class="logo"></div>
								<div class="section color--white">2. JSON Schema</div>
							</div>
							<div>
								<h1>Problem</h1>
								<p>Javascript is not a strongly typed language, and as a frontend developer you need to rely on additional tools which will allow you to develop stable apps with Javascript.</p>
							</div>
						</div>
					</section>
					<section class="subsection color--radiant" id="subsection--json--s21">
						<div class="grid-wrapper">
							<div class="header">
								<div class="logo"></div>
								<div class="section color--white">2. JSON Schema</div>
							</div>
							<div>
								<h1>Problem</h1>
								<p>Javascript is not a strongly typed language, and as a frontend developer you need to rely on additional tools which will allow you to develop stable apps with Javascript.</p>
								<hr/>
								<h1>Solution</h1>
								<p>We recommend to consider using JSON schema validation if JSON is your communication protocol.</p>
							</div>
						</div>
					</section>
				</section>

				<!-- JSON Schema slide #3 -->
				<section class="subsection color--radiant" id="subsection--json--s3">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">4. JSON Schema</div>
						</div>
						<div>
							<h1>JSON Schema validators</h1>
							<p>There are a lot of implementations for JSON Schema validators in javascript.</p>
							<ul class="list-extra-space">
								<li><span class="semibold">ajv</span> (MIT)</li>
								<li><span class="semibold">djv</span> (MIT)</li>
								<li><span class="semibold">jsonschema</span> (MIT)</li>
								<li><span class="semibold">is-my-json-valid</span> (MIT)</li>
								<li><span class="semibold">tv4</span> (MIT)</li>
								<li><span class="semibold">JaySchema</span> (MIT)</li>
								<li><span class="semibold">z-schema</span> (MIT)</li>
								<li>...</li>
							</ul>
						</div>
						<hr>
						<cite>http://json-schema.org/implementations.html#validator-javascript</cite>
					</div>
				</section>
				<section class="code color--radiant" id="subsection--json--s4">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">4. JSON Schema</div>
						</div>
						<div class="flex-row">
							<figure class="code">
								<!--
									Code highlighting is performed by highlight.js

									Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
									If showing an HTML example, add the data-escape attribute to the code element.
								-->
								<pre><code class="lang-json">
									{
										"attendees" : [
											{
												"id": 1001,
												"title": "Mr.",
												"firstName": "John",
												"lastName": "Smith",
												"bio": "lorem ipsum...",
												"presenter": true
											},
											{
												"id": 1002,
												"title": "Ms.",
												"firstName": "James",
												"lastName": "Noname",
												"bio": "lorem ipsum...",
												"presenter": false
											},
											...
										]
									}
								</code></pre>
								<!-- figcaption element is optional, can be placed above or below code  -->
								<figcaption class="path">mydomain/attendees</figcaption>
							</figure>

							<figure class="code">
								<!--
									Code highlighting is performed by highlight.js

									Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
									If showing an HTML example, add the data-escape attribute to the code element.
								-->
								<pre><code class="lang-json">
									{
										<span class="opacity-30">"$schema": "http://json-schema.org/draft-04/schema#",</span>
										<span class="opacity-30">"id": "...?_format=schema_json&_describes=api_json",</span>
										<span class="opacity-30">"title": "node:attendee Schema",</span>
										<span class="opacity-30">"description": "Describes the payload for 'node' entities of the 'attendee' bundle.",</span>
										"type": "object",
										"properties": {
											"attendees": {
												"type": "array",
												"items": {
													"type": "object",
													"properties": {
														"id" : {"type": "integer"},
														"title" : {"type": "string"},
														"firstName" : {"type": "string"},
														"lastName" : {"type": "string"},
														"bio" : {"type": "string"},
														"presenter" : {"type": "boolean"}
													},
													"required": ["id", "firstName", "lastName"]
												}
											}
										}
									}
								</code></pre>
								<!-- figcaption element is optional, can be placed above or below code  -->
								<figcaption class="path">/schemas/attendeesSchema.json</figcaption>
							</figure>
						</div>
					</div>
				</section>
				<section class="code color--radiant" id="subsection--json--s5">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">4. JSON Schema</div>
						</div>
						<figure class="code">
							<!--
								Code highlighting is performed by highlight.js

								Leading whitespace is trimmed by default.  Add the data-notrim attribute to the code element to preserve it.
								If showing an HTML example, add the data-escape attribute to the code element.
							-->
							<pre><code class="lang-javascript">
								export function getAttendees() {
									return function (dispatch, getState) {
										let endpointId = 'attendees'
										let endpoint = apiEndpoints[endpointId] //import { apiEndpoints } from '../constants/endpoints'
										dispatch(getDataPending())

										axios({
											url: endpoint.url,
											method: endpoint.method,
											timeout: endpoint.timeout
										})
										.then(res => {
											// Validate response data.
											var validate = ajv.compile(attendeesSchema) // import Ajv from 'ajv'; let ajv = Ajv({allErrors: true});
											var valid = validate(res.data)
											if (!valid) {
												getDataFail('Error fetching the data', validate.errors)
											}
											else {
												dispatch(getDataSuccess(res.data.attendees))
											}
										.catch(err => {
											getDataFail('Error fetching the data')
										});
									}
								}
							</code></pre>
							<!-- figcaption element is optional, can be placed above or below code  -->
							<figcaption class="path">actions/attendeesActions.js</figcaption>
						</figure>
					</div>
				</section>
				<!-- JSON Schema slide #3 -->
				<section class="subsection color--radiant" id="subsection--json--s7">
					<div class="grid-wrapper">
						<div class="header">
							<div class="logo"></div>
							<div class="section">4. JSON Schema</div>
						</div>
						<div>
							<h1>Summary</h1>
							<br/><br/>
							<ul class="list-extra-space">
								<li>We have seen how we can use JSON schema validation to make sure that React app receives data in the expected format.</li>
								<li>We can make our React app report the problem with the data back to the Drupal.</li>
								<li>We can make our React app to massage the data on the entry point of our app and perform the conversions and re-validate data again.</li>
								<li>And speaking about data validity, consider always using React PropTypes for the component where data type might be a concern.</li>
							</ul>
						</div>
					</div>
				</section>

				<!-- THE END -->
				<section class="subsection color--ice" id="questions">
					<div class="grid-wrapper">
						<div class="logo"></div>
						<h1>Questions?</h1>
						<div class="description">
							This is where the description goes. Keep it short and sweet.
						</div>
					</div>
				</section>

				<section>
					<section id="sprints">
						<div class="grid-wrapper">
							<div class="titles">
								<h1>Contribution Sprints</h1>
								<h2>Friday, 29 September, 2017</h2>
							</div>
							<div class="sprint-types">
								<div>
									<span class="sprint-title">Mentored Core Sprint</span>
									<span class="sprint-time">9:00-18:00</span>
									<span class="sprint-room">Room: Stolz 2</span>
								</div>
								<div>
									<span class="sprint-title">First time Sprinter Workshop</span>
									<span class="sprint-time">9:00-12:00</span>
									<span class="sprint-room">Room: Lehar 1 - Lehar 2</span>
								</div>
								<div>
									<span class="sprint-title">General Sprint</span>
									<span class="sprint-time">9:00-18:00</span>
									<span class="sprint-room">Room: Mall</span>
								</div>
							</div>
							<div class="hashtag">#drupalsprints</div>
						</div>
					</section>
					<section id="feedback">
						<div class="grid-wrapper">
							<div class="titles">
								<h1>What did you think?</h1>
							</div>
							<div class="content">
								<p>
									Locate this session at the DrupalCon Vienna website<br>
									<a href="https://events.drupal.org/vienna2017/sessions/skeletor-scaffolding-architecture-devops-progressive-decoupling">https://events.drupal.org/vienna2017/sessions/skeletor-scaffolding-architecture-devops-progressive-decoupling</a>
								</p>
								<p>
									Take the survey!<br>
									<a href="https://www.surveymonkey.com/r/drupalconvienna">https://www.surveymonkey.com/r/drupalconvienna</a>
								</p>
							</div>
						</div>
					</section>
				</section>

				<section class="end color--radiant" id="end-radiant">
					<div class="logo-wrapper">
						<div class="logo"><span class="visually-hidden">Myplanet</span></div>
					</div>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				center: false,
				width: "100%",
				height: "100%",
				margin: 0,
				minScale: 1,
				maxScale: 1,
				history: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{
						src: 'plugin/highlight/highlight.js',
						async: true,
						condition: function () {
							// Trim whitespace from code blocks, and prevent HTML escaping by default.
							// This must be done before the plugin is loaded.
							Array.prototype.forEach.call(
								document.querySelectorAll('pre code'),
								function (element) {
									if (!element.hasAttribute('data-notrim')) {
										element.setAttribute('data-trim', '');
									}
									if (!element.hasAttribute('data-escape')) {
										element.setAttribute('data-noescape', '');
									}
								}
							);
							return true;
						},
						callback: function () {
							hljs.initHighlightingOnLoad();
						}
					}
				]
			});
		</script>
	</body>
</html>
